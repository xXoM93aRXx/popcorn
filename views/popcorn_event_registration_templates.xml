<?xml version="1.0" encoding="utf-8"?>

<odoo>
        <!-- Event Registration Access Template -->
    <template id="event_registration_access_page" name="Event Registration Access">
        <t t-call="website.layout">
            <div class="popcorn-event-registration-page">
                <div class="popcorn-container">
                    <div class="popcorn-event-registration-content">
                        <!-- Event Cover Image -->
                        <div class="popcorn-event-cover" t-if="event.badge_image">
                            <img t-att-src="'/web/image/event.event/' + str(event.id) + '/badge_image'" 
                                 t-att-alt="event.name" class="popcorn-event-cover-img"/>
                        </div>
                        
                        <!-- Event Details -->
                        <div class="popcorn-event-details">
                            <h1 class="popcorn-event-name"><t t-esc="event.name"/></h1>
                            
                            <div class="popcorn-event-info">
                                <div class="popcorn-event-info-item" t-if="event.date_begin">
                                    <i class="fa fa-calendar"></i>
                                    <span t-esc="event.date_begin.strftime('%B %d, %Y')"/>
                                </div>
                                <div class="popcorn-event-info-item" t-if="event.date_begin">
                                    <i class="fa fa-clock-o"></i>
                                    <span t-esc="event.date_begin.strftime('%I:%M %p')"/>
                                </div>
                                <div class="popcorn-event-info-item" t-if="event.host_name">
                                    <i class="fa fa-user"></i>
                                    <span t-esc="event.host_name"/>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="popcorn-event-registration-actions">
                            <form t-attf-action="/popcorn/event/#{event.id}/registration/confirm" method="POST" style="display: inline;">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                <button type="submit" class="popcorn-event-btn popcorn-event-btn-primary">
                                    <i class="fa fa-check"></i> <span t-translation="on">Confirm Registration</span>
                                </button>
                            </form>
                            <a href="/event" class="popcorn-event-btn popcorn-event-btn-secondary">
                                <i class="fa fa-arrow-left"></i> <span t-translation="on">Back to Events</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <!-- Event Registration Success Template -->
    <template id="event_registration_success_page" name="Event Registration Success">

        <t t-call="website.layout">
            <div class="popcorn-event-registration-page">
                <div class="popcorn-container">
                    <div class="popcorn-event-registration-content">
                        <div class="popcorn-event-registration-icon popcorn-event-success-icon">
                            <i class="fa fa-check-circle"></i>
                        </div>
                        
                        <h1 class="popcorn-event-registration-title">ðŸŽ‰ Registration Successful!</h1>
                        
                        <div class="popcorn-event-registration-message popcorn-event-success-message">
                            Congratulations! You have been successfully registered for <t t-esc="event.name"/>.
                        </div>
                        
                        <div class="popcorn-event-registration-details">
                            <h3>Registration Details:</h3>
                            <div class="popcorn-event-detail-row">
                                <span class="popcorn-event-detail-label" t-translation="on">Event:</span>
                                <span class="popcorn-event-detail-value"><t t-esc="event.name"/></span>
                            </div>
                            <div class="popcorn-event-detail-row">
                                <span class="popcorn-event-detail-label" t-translation="on">Member:</span>
                                <span class="popcorn-event-detail-value"><t t-esc="partner.name"/></span>
                            </div>
                            <div class="popcorn-event-detail-row">
                                <span class="popcorn-event-detail-label" t-translation="on">Membership Used:</span>
                                <span class="popcorn-event-detail-value"><t t-esc="best_membership.membership_plan_id.name"/></span>
                            </div>
                            <div class="popcorn-event-detail-row">
                                <span class="popcorn-event-detail-label" t-translation="on">Registration ID:</span>
                                <span class="popcorn-event-detail-value"><t t-esc="registration.id"/></span>
                            </div>
                            <div class="popcorn-event-detail-row">
                                <span class="popcorn-event-detail-label" t-translation="on">Event Type:</span>
                                <span class="popcorn-event-detail-value"><t t-esc="event_club_type.replace('_', ' ').title()"/></span>
                            </div>
                            <div class="popcorn-event-detail-row">
                                <span class="popcorn-event-detail-label" t-translation="on">Consumption:</span>
                                <span class="popcorn-event-detail-value"><t t-esc="consumption_text"/></span>
                            </div>
                        </div>
                        
                        <div class="popcorn-event-registration-actions">
                            <a t-attf-href="/event/#{event.id}" class="popcorn-event-btn popcorn-event-btn-primary" t-translation="on">
                                <i class="fa fa-calendar"></i> <span t-translation="on">View Event</span>
                            </a>
                            <a href="/memberships" class="popcorn-event-btn popcorn-event-btn-secondary" t-translation="on">
                                <i class="fa fa-id-card"></i> <span t-translation="on">My Memberships</span>
                            </a>
                        </div>
                        
                        <div class="popcorn-event-registration-note">
                            <p><strong><span t-translation="on">What's Next?</span></strong></p>
                            <ul>
                                <li>You will receive a confirmation email shortly</li>
                                <li>Check your email for event details and reminders</li>
                                <li>You can view your registration in your membership dashboard</li>
                                <li>For any questions, please contact our support team</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>
